"0","mycolours <- c(""grey70"",""tomato"")"
"0",""
"0",""
"0","join2  |> "
"0","  drop_na(per_capita_electricity) |> "
"0","  mutate(country = fct_reorder(country, per_capita_electricity),"
"0","         myfill = ifelse(country %in% c(""China"",""Denmark"",""India"", ""United States"", ""Germany"", ""Nigeria""), TRUE, FALSE)) |> "
"0","  filter(year == 2023, "
"0","         population > 30e6) |> "
"0","  ggplot()+"
"0","  aes(x=per_capita_electricity/365, "
"0","      y = country, "
"0","      fill = myfill,"
"0","      label = scales::number(per_capita_electricity/365,accuracy=0.1))+"
"0","  geom_col()+"
"0","  facet_wrap(~continent, scales=""free"")+"
"0","  scale_fill_manual(values = mycolours)+"
"0","  geom_text("
"0","    colour = ""#fafafa"","
"0","    size = 3,"
"0","    hjust = 1"
"0","  )+"
"0","  theme_minimal()+"
"0","  labs("
"0","    title = ""How much electricity does the average person use per day?"","
"0","    subtitle = ""2023 kWh per capita, countries with population > 30m"","
"0","    fill = ""Energy Source"","
"0","    x = NULL,"
"0","    y = NULL"
"0","  )+"
"0","  # ensure title is top-left aligned"
"0","  theme(plot.title.position = ""plot"")+"
"0","  theme(legend.position = ""none"")+"
"0","  NULL"
"0",""
