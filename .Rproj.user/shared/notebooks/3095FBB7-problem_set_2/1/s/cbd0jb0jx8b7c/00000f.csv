"0","#| message: false"
"0","#| warning: false"
"0",""
"0",""
"0","# Download co2 data"
"0","co2 <- ""https://nyc3.digitaloceanspaces.com/owid-public/data/co2/owid-co2-data.csv"" |> "
"0","  read_csv() |> "
"0","    filter(year >= 1990) "
"1","[1mRows: [22m[34m50191[39m [1mColumns: [22m[34m79[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (2): country, iso_code
[32mdbl[39m (77): year, population, gdp, cement_co2, cement_co2_per_capita, co2, co2_growth_abs, co2_growth_prct, c...
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","# Download electricity data"
"0","energy <- ""https://nyc3.digitaloceanspaces.com/owid-public/data/energy/owid-energy-data.csv"" |> "
"0","  read_csv()  |>  "
"0","  filter(year >= 1990) |> "
"0","  drop_na(iso_code) |> "
"0","  select(1:5,"
"0","         biofuel = biofuel_electricity,"
"0","         coal = coal_electricity,"
"0","         gas = gas_electricity,"
"0","         hydro = hydro_electricity,"
"0","         nuclear = nuclear_electricity,"
"0","         oil = oil_electricity,"
"0","         other_renewable = other_renewable_exc_biofuel_electricity,"
"0","         solar = solar_electricity,"
"0","         wind = wind_electricity, "
"0","         electricity_demand,"
"0","         electricity_generation,"
"0","         electricity_share_energy,"
"0","         net_elec_imports,	# Net electricity imports, measured in terawatt-hours"
"0","         energy_per_capita,	# Primary energy consumption per capita, measured in kilowatt-hours	Calculated by Our World in Data based on BP Statistical Review of World Energy and EIA International Energy Data"
"0","         energy_per_gdp,	# Energy consumption per unit of GDP. This is measured in kilowatt-hours per 2011 international-$."
"0","         per_capita_electricity #	Electricity generation per capita, measured in kilowatt-hours"
"0",""
"0","  ) "
"1","[1mRows: [22m[34m21812[39m [1mColumns: [22m[34m129[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m   (2): country, iso_code
[32mdbl[39m (127): year, population, gdp, biofuel_cons_change_pct, biofuel_cons_change_twh, biofuel_cons_per_capita...
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","# Download data for GDP per capita  https://data.worldbank.org/indicator/NY.GDP.PCAP.PP.KD"
"0","# GDP per capita, PPP (constant 2021 international $)"
"0",""
"0","gdp_percap <- wb_data(country = ""countries_only"", "
"0","                      indicator = ""NY.GDP.PCAP.PP.KD"", "
"0","                      start_date = 1990, "
"0","                      end_date = 2023,"
"0","                      return_wide=FALSE) |> "
"0","  filter(!is.na(value)) |> "
"0","  #drop unwanted variables"
"0","  select(-c(unit, obs_status, footnote, last_updated)) |> "
"0","  rename(year = date,"
"0","         GDPpercap = value)"
"0",""
"0",""
"0",""
"0",""
"0",""
